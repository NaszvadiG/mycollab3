jQuery.fn.objectEstimate=function(s){var settings=jQuery.extend({value:0,comment:"",job_type_id:null,job_type_name:null,short_format:true,can_change:false,estimates_url:false,set_estimate_url:false},s);return this.each(function(){var wrapper=$(this).addClass("object_estimate");if(settings.estimates_url){var caption=settings.value>0?App.lang(":estimate of :job_type",{estimate:App.Wireframe.Utils.formatEstimate(settings.value),job_type:settings.job_type_name}):"0h";var value=$('<a href="'+settings.estimates_url+'" title="'+App.lang("Estimates Time")+'" estimated_time="'+settings.value+'">'+caption+"</a>").flyout({width:800}).appendTo(wrapper);if(settings.can_change){wrapper.append(" ");var change=$('<a href="'+settings.set_estimate_url+'" title="'+App.lang("Change Estimate")+'"><img src="'+App.Wireframe.Utils.imageUrl("icons/12x12/edit.png","environment")+'" alt="'+App.lang("Change")+'"></a>').appendTo(wrapper);change.flyoutForm({width:400,success:function(estimate){var parent=estimate.parent;if(parent){App.Wireframe.Events.trigger(parent.event_names.updated,parent)}if(typeof(estimate)=="object"&&estimate){var caption=estimate.value>0?App.lang(":estimate of :job_type",{estimate:App.Wireframe.Utils.formatEstimate(estimate.value),job_type:estimate.job_type["name"]}):"0h";value.text(caption).attr("estimated_time",estimate.value)}}})}}else{wrapper.append(App.Wireframe.Utils.formatEstimate(settings.value))}})};