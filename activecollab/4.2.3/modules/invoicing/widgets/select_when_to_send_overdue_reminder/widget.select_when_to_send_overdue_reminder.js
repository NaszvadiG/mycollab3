jQuery.fn.selectWhenToSendOverdueReminder=function(s){var settings=jQuery.extend({name:"object[estimate]",value:0,optional:false,"class":""},s);return this.each(function(){var wrapper=$(this);var possibilities={"1":App.Wireframe.Utils.formatWhenToSendOverdueReminder(1),"3":App.Wireframe.Utils.formatWhenToSendOverdueReminder(3),"5":App.Wireframe.Utils.formatWhenToSendOverdueReminder(5),"7":App.Wireframe.Utils.formatWhenToSendOverdueReminder(7),"14":App.Wireframe.Utils.formatWhenToSendOverdueReminder(14),"31":App.Wireframe.Utils.formatWhenToSendOverdueReminder(31)};if(settings.optional){var options='<option value="">'+App.lang("None")+'</option><option value=""></option>'}else{var options=""}for(var i in possibilities){options+='<option value="'+i+'" class="when_to_send_overdue_reminder_value">'+App.clean(possibilities[i])+"</option>"}var value=settings.value;if(settings.value&&!possibilities[value]){options+='<option value=""></option><option value="'+value+'">'+App.lang(":days days",{days:value})+"</option>"}options+='<option value=""></option><option class="custom_value" value="other">'+App.lang("Custom")+"</option>";var select=$('<select name="'+settings.name+'" class="select_when_to_send_overdue_reminder">'+options+"</select>").val(settings.value).appendTo(wrapper);if(settings["class"]){select.addClass(settings["class"])}select.change(function(){if(select.val()=="other"){var input=prompt(App.lang("Please insert when to send overdue reminder, in days. Example: 1, 3, 7 etc."),"");if(input){var value=App.Wireframe.Utils.parseWhenToSendOverdueReminder(input);if(value>0){if(select.find('option[value="'+value+'"]').length==0){select.find("option.when_to_send_overdue_reminder_value:last").after('<option value="'+value+'" class="when_to_send_overdue_reminder_value">'+App.Wireframe.Utils.formatWhenToSendOverdueReminder(value)+"</option>")}select.val(value)}else{App.Wireframe.Flash.error(App.lang("Value must be 1 or more days."));select.val("")}}}})})};