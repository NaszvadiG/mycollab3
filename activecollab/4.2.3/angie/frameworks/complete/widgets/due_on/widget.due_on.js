jQuery.fn.dueOn=function(){return this.each(function(){var elem=$(this).addClass("due_on");if(elem.data("dueOnInitialized")){return}var date=Date.parseExact(elem.attr("datetime"),"yyyy-MM-dd");var today=Date.today();var time_class="",label="";if(date.is().today()){time_class="today";label=App.lang("Due Today")}else{if(date.same().day(Date.parse("t - 1 d"))){time_class="late";label=App.lang("1 Day Late")}else{if(date.same().day(Date.parse("t + 1 d"))){time_class="upcoming";label=App.lang("Due Tomorrow")}else{var diff=new TimeSpan(date-today);if(diff.days>0){time_class="upcoming";label=App.lang("Due in :days Days",{days:diff.days})}else{time_class="late";label=App.lang(":days Days Late",{days:Math.abs(diff.days)})}}}}if(time_class){elem.addClass(time_class)}if(label){elem.text(label)}elem.data("dueOnInitialized",true)})};