(function($){var methods={init:function(s){var settings=jQuery.extend({value:0,base_type_name:null,edit_url:null,success_event:null},s);return this.each(function(){var wrapper=$(this);if(settings.base_type_name&&settings.edit_url){wrapper.data("base_type_name",settings.base_type_name);wrapper.data("edit_url",settings.edit_url)}wrapper.objectPriority("set",settings.value)})},set:function(value){return this.each(function(){var wrapper=$(this).empty();value=parseInt(value);var label=$('<span class="priority"></span>').appendTo(wrapper);switch(value){case -2:label.text(App.lang("Lowest")).addClass("lowest_priority");break;case -1:label.text(App.lang("Low")).addClass("low_priority");break;case 1:label.text(App.lang("High")).addClass("high_priority");break;case 2:label.text(App.lang("Highest")).addClass("highest_priority");break;default:label.text(App.lang("Normal")).addClass("normal_priority")}if(wrapper.data("base_type_name")&&wrapper.data("edit_url")){label.css("cursor","pointer").click(function(){var change_priority_wrapper=$('<div class="change_priority" style="padding: 30px 25px;"><select><option value="-2">'+App.lang("Lowest")+'</option><option value="-1">'+App.lang("Low")+'</option><option value="0">'+App.lang("Normal")+'</option><option value="1">'+App.lang("High")+'</option><option value="2">'+App.lang("Highest")+"</option></select> <button>"+App.lang("Change")+"</button></div>");var select=change_priority_wrapper.find("select").val(value);var button=change_priority_wrapper.find("button")})}})}};$.fn.objectPriority=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof method==="object"||!method){return methods.init.apply(this,arguments)}else{throw"Method "+method+" does not exist on jQuery.objectPriority"}}}})(jQuery);