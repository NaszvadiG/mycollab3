App.widgets.SelectProjectObjectByType=function(){return{init:function(params){var type_select=$("select#"+params.select_type_id);var select_object=$("select#"+params.select_object_id);type_select.change(function(){var selected_type=$(this).val();populate_objects(selected_type)});var populate_objects=function($type){var objects;var option_string;switch($type){case"task":objects=params.tasks;break;case"discussion":objects=params.discussions;break;case"text_document":objects=params.text_documents;break}if(objects!=null){App.each(objects,function(index,value){option_string+="<option value="+index+">"+value+"</option>"});select_object.show();select_object.html(option_string)}else{select_object.hide()}};return true}}}();